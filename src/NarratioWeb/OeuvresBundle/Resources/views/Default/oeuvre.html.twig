{%extends 'vueMere.html.twig' %}
{% block body %}
<style type="text/css">
	#titre1{
	color:#F6EFD2;
	text-align:center;
	font-size:30px;
	font-family: garamond;
	background-color:#212524;
	text-decoration:none;
	border-radius: 25px 10px / 10px 25px;
	border-radius: 25px 10px / 10px 25px;
	}
	#concept{
	color:#F6EFD2;
	text-align:center;
	font-size:20px;
	width:66%;
	font-family: garamond;
	background-color:#848484;
	margin-left:18%;
	text-decoration:none;
	border-radius: 10px 20px / 20px 10px;
	border-radius: 10px 20px / 20px 10px;
	}
	#modalButton{
	color:#212524;
	text-align:center;
	background-color:#F6EFD2;
	border: none;
	vertical-align:middle;
	}
	#Oeuvre{
	text-align:justify;
	}
	#Livre{
	text-align:justify;
	}
	#Film{
	text-align:justify;
	}
	#Autre{
	text-align:justify;
	}
	#image1{
	border-radius: 35px;
	border-radius: 35px;
	}
	#images{
	vertical-align:middle;
	}
	.thumbnail {
	width: auto;
	height: auto;
	overflow: hidden;
	max-width:175px;
	max-height:175px;
	}
	}a {
    color: #F6EFD2;
    text-decoration: none;
}a:hover {
  color: black;
  background-color: #212524;
  text-decoration: underline;
}
	a {
	color : #7D3232;
	}
	a:hover {
	color : #7D3232;
	}
	.nav-tabs>li.active>a{
	color: black;
	}
	#ptitle{
	padding:10px;
	color:white;
	text-align:center;
	font-style:italic;
	font-weight:bold;
	font-size:20px;
	font-family: georgia;
	text-shadow: 2px 2px #000;
	text-shadow: -1px 0 #151515, 1px 0 #151515, 0 1px #000, 0 -1px #151515;
	color: #fff;
	}
	.panel > .panel-heading {
	color: white;
	height:60px;
	}
</style>
<!-- mise en place des onglets -->
<div class="container" style="background-color: #F7F5F0">
	<div class="row">
		<div class="col-lg-8">
			<br>
			<div id=titre1>
				{{ oeuvre.nom }}
			</div>
			<br>
			<ul class="nav nav-tabs nav-justified">
				<!-- definition des onglets -->
				<li class="active"><a data-toggle="tab" href="#Oeuvre" name="oeuvre"><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span><b> L'Oeuvre</b></a></li>
				<li ><a data-toggle="tab" href="#Livre" name="livre"><span class="glyphicon glyphicon-book" aria-hidden="true"></span><b> Livres</b></a></li>
				<li ><a data-toggle="tab" href="#Film" name="film"><span class="glyphicon glyphicon-film" aria-hidden="true"></span><b> Films</b></a></li>
				<li><a data-toggle="tab" href="#Autre" name="autre"><span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span><b> Autres</b></a></li>
			</ul>
			<!-- PREMIER ONGLET    OEUVRE-->
			<div class="tab-content" >
				<div id="Oeuvre" class="tab-pane fade in active">
					<br>
					<div id=concept>
						<p><b>Concept de l'oeuvre</b></p>
					</div>
					<div class="panel panel-default">
						<div class="panel-body">
							{{oeuvre.concept}}
							<br/>
						</div>
					</div>
<!-- IF CONNECTE -->
					<center><a name="action-type-oeuvre" value="modifier" type="submit" href="{{ path('narratio_web_oeuvres_modifierOeuvre', {'type': 'monOeuvre', 'id': id}) }}"><input name="action-type-oeuvre" name="modifier" type="submit" class="btn btn-warning" value="Modifier cette oeuvre"/></a></center>
<!-- IF CONNECTE -->
				</div>
				<!-- DEUXIEME ONGLET LIVRE -->
				<div id="Livre" class="tab-pane fade">
					<br/>
					{% for LivreCourant in tabLivres %}
					<div class="panel panel-default">
						<div class="panel-heading" style=" background-image:url({{ asset(LivreCourant.imageLivre.url |default('undefined'))}}); -webkit-filter:opacity(50%);">
							<h3 id=ptitle align="center" class="panel-title">
								{{LivreCourant.titre}}<br/>
								<!-- <b>~ ~ ~</b> -->
								<!-- Le mettre en noir sans opacité ?? -->
							</h3>
						</div>
						<div class="panel-body">
							{{LivreCourant.resume}}<br/>
						</div>
						<div class="panel-footer">
							<div class="row">
								<div class="col-sm-3" id="aCentrer">
									<b>Auteur(s) :</b><br>
									{%for auteurCourant in LivreCourant.auteur%}
									<br>
									<span class="glyphicon glyphicon-user" aria-hidden="true"></span> {{auteurCourant.label}}
									{%endfor%}<br><br>
									<b>Année de parution :</b><br>
									<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{LivreCourant.annee}}
								</div>
								<div class="col-sm-6" align="center" id="aCentrer">
									<a class="thumbnail">
									<img id="images" src="{{LivreCourant.imageLivre.url}}"></a>
									</a>
								</div>
								<div class="col-sm-3" align="right" id="aCentrer">
									<b>Editeur :</b><br>
									<span class="glyphicon glyphicon-book" aria-hidden="true"></span> {{LivreCourant.editeur.nom}}
								</div>
								<br><br><br>
							</div>
<!-- IF CONNECTE -->
								<center><a name="action-type-livre" value="modifier" type="submit" href="{{ path('narratio_web_oeuvres_modifierOeuvre', {'type': 'monLivre', 'id': LivreCourant.id}) }}"><input name="action-type-livre" name="modifier" type="submit" class="btn btn-warning" value="Modifier ce livre"/></a></center>
<!-- IF CONNECTE -->
							
						</div>
					</div>
					{%else%}
					Erreur.
					{%endfor%}
					<br/>
				</div>
				<!-- TROISIEME ONGLET  FILM-->
				<div id="Film" class="tab-pane fade">
					<br/>
					{% for FilmCourant in tabFilms %}
					<div class="panel panel-default">
						<div class="panel-heading" style=" background-image:url({{ asset(FilmCourant.imageFilm.url |default('undefined'))}}); -webkit-filter:opacity(50%);">
							<h3 id=ptitle align="center" class="panel-title">
								{{FilmCourant.titre}}
							</h3>
						</div>
						<div class="panel-body">
							{{FilmCourant.synopsis}}
						</div>
						<div class="panel-footer">
							<div class="row">
								<div class="col-sm-3" id="aCentrer"> 
									<b>Année de parution :</b>
									<br>
									<span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{FilmCourant.annee}}
									<br><br><b>Acteurs :</b> <br>
									{%for acteurCourant in FilmCourant.acteurs%}
									<span class="glyphicon glyphicon-user" aria-hidden="true"></span> {{acteurCourant.label}}<br>
									{%endfor%}<br>
								</div>
								<div class="col-sm-6" align="center">
									<a class="thumbnail">
									<img id="images" src="{{FilmCourant.imageFilm.url}}"></a>
									</a>
								</div>
								<div class="col-sm-3" align="right" id="aCentrer">
									<span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>
									<b>Durée : </b>{{FilmCourant.duree}} min<br><br><br>
									<b>Réalisateur :</b><br>
									<span class="glyphicon glyphicon-user" aria-hidden="true"></span> {{FilmCourant.realisateur.label}}<br/>
								</div>
							</div>
<!-- IF CONNECTE -->
            <center><a name="action-type-film" value="modifier" type="submit" href="{{ path('narratio_web_oeuvres_modifierOeuvre', {'type': 'monFilm', 'id': FilmCourant.id}) }}" id="bouton"><input name="action-type-film" name="modifier" type="submit" class="btn btn-warning" value="Modifier ce film"/></a></center>
<!-- IF CONNECTE -->
						</div>
					</div>
					{%else%}
					Erreur.
					{%endfor%}
				</div>
				<!-- QUATRIEME ONGLET  AUTRE-->
				<div id="Autre" class="tab-pane fade">
					<br>
					<div id=concept>
						<p><b>Autres infos concernant l'oeuvre</b></p>
					</div>
					<div class="panel panel-default">
						<div class="panel-body">
							{{oeuvre.prodDer}}
							<br>
							<br>
							{% if resImdb |length > 0 %}
							<div align="center" class="">
								<!-- Trigger the modal with a button -->
								<button id="modalButton" type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#modal">Plus d'informations sur un film de {{oeuvre.nom}}</button>
								<!-- Modal -->
								<div id="modal" class="modal fade" role="dialog">
									<div class="modal-dialog">
										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h4 class="modal-title">{{ resImdb.Title }} - {{ resImdb.Year }}</h4>
											</div>
											<div class="modal-body">
												<p>
													L'auteur du film est {{ resImdb.Writer }}.
													<br>
													Les acteurs de ce film sont {{ resImdb.Actors }}.
													<br>
													Disponible en {{ resImdb.Language }}.
													<br>
													Les récompenses obtenues par ce film : {{ resImdb.Awards }}.
													<br>
													Avec un total de {{ resImdb.imdbVotes }} votes, ce film a une note de {{ resImdb.imdbRating }} sur Imdb.
													<br>
												</p>
											</div>
											<div class="modal-footer">
												<button id="modalButton" type="button" class="btn btn-default" data-dismiss="modal">Retour</button>
											</div>
										</div>
									</div>
								</div>
							</div>
							{% endif %}
						</div>
					</div>
<!-- IF CONNECTE -->
					<center><a name="action-type-oeuvre" value="modifier" type="submit" href="{{ path('narratio_web_oeuvres_modifierOeuvre', {'type': 'monOeuvre', 'id': id}) }}"><input name="action-type" name="modifier" type="submit" class="btn btn-warning" value="Modifier cette oeuvre"/></a></center>
<!-- IF CONNECTE -->
				</div>
			</div>
		</div>
		<!-- LATERAL: Image générale de l'oeuvre + Informations -->
		<div class="col-lg-4">
			<br><br>
			<center><img src="{{image.url}}" id=image1 width=300px /></center>
			<br><br>
			<div class="well">
				<b>Genre :</b> {{oeuvre.genre.intitule}}<br>
				<b>Epoque :</b> {{oeuvre.epoque.intitule}}<br>
				<b>Thématique :</b> {{oeuvre.thematique.intitule}}<br>
				<b>Tranche d'age :</b> {{oeuvre.trancheAge.intitule}}<br>
				<br>
				<div align="left">
					<b>Notation :</b>
					{% if note is not null %}
					{% if note != 0 %}
					{% for i in 1..note %}
					{% set nameP = i %}
					<a href="{{ path('narratio_web_oeuvres_vote', {'id':id, 'nEtoile':nameP }) }}" class="no-decoration"><span style="font-size:1.5em;" class="glyphicon glyphicon-star" aria-hidden="true"></span></a>
					{% endfor %}
					{% endif %}
					{% for j in note .. 4 %}
					{%if note == 5%}
					{%else%}
					{% set nameV = j %}
					<a href="{{ path('narratio_web_oeuvres_vote', {'id':id, 'nEtoile':nameV }) }}" class="no-decoration"><span style="font-size:1.5em;" class="glyphicon glyphicon-star-empty" aria-hidden="true"></span></a>
					{%endif%}
					{% endfor %}
					{% endif %}
				</div>
				<br>
				<b>Nombre de vues :</b> {{oeuvre.compteurVues}}
				<br>
				<br>
			</div>
		</div>
	</div>
	<br>
	<!-- SUGGESTIONS   -->
	<div class="row">
		{% if tabImagesSuggestions != null %}
		&nbsp;&nbsp;&nbsp;&nbsp;
		<i>Suggestions</i>
		<br>
		{%for imageCourante in tabImagesSuggestions |slice(0, 4) if imageCourante.oeuvre.id != id %}
		<div class="col-xs-4 col-md-2" align="center">
			<a href="{{ path('narratio_web_oeuvres_voirOeuvre', {'id':imageCourante.oeuvre.id}) }}" class="thumbnail">
			<img id="images" src="{{ imageCourante.url }}" alt="Suggestions"></a>
			</a>
		</div>
		{%endfor%} 
		{% endif %}
	</div>
</div>
{% endblock %}


    
